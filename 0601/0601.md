내일은 NFT를 사고 파는 컨트랙트를 만들 예정

# NFT 발행 - ERC721 표준

모양은 같지만 고유한 식별자가 있고, 각각은 다르다.

## ERC20 와 ERC721

ERC20 토큰을 만드는 행위를 민팅이라고 한다.
ERC721로 NFT를 생성하는 것은 객체를 하나 생성하는 것과 같다.

NFT는 객체에 대한 내용이 많다. 그래서 컨트랙트 코드의 mapping이 많이 등장하게 된다.

NFT는 사진을 떠올리게 되지만 개발자 시점으로는 객체를 하나를 생성하는 것이다.

NFT마다 속성값이 다를 수 있다.

ERC20 토큰을 생각해보면 토큰의 이름은 다르더라도 다 같은 모양
NFT를 만든다는 것은 객체를만드는 것까지가 NFT이다. 그래서 내부 데이터의 내용은 어떤것이 들어가든 상관이 없다.

```js
{
    id:"",
    metadataURL:"http://www.exam.com/adsf/zczcx.json"
}
```

NFT를 생성한다는 것은 위의 JSON 형태를 찍어주는 것이다.

### metadata

JSON type : Webserver에 저장된 json 파일을 말한다.

NFT를 만들기 위해서 host에 JSON파일이 올라가 있는 것이 우선이다.

web에 올려진 JSON파일을 url을 가져와서 metadataURL에 포함시키는 것이 NFT 발행이다.

### deploy

배포를 쉽게하기 위해서 truffle, remix IDE를 이용했다.
remix IDE 툴로 개발하는 방법에서 vscode처럼 사용하기 위해서

```sh
$ npx truffle init
$ npm install -g @remix-project/remixd
$ remixd -s . --remix-ide https://remix.ethereum.org
```

현재 vscode 디렉토리를 ide 환경에서 보여주고 gui로 쉽게 배포할 수 있다.

# ERC721 표준

## \_owners

```json
{
    //0번부터가 아닌 1번부터 시작한다(일반적으로..)
    "1": "0x0001",
    "2": "0x0002",
    "3": "0x0003",
    "4": "0x0004"
}
```

## \_balances

address를 이용해서 가지고 있는 nft의 갯수를 구할 수 있다.

```json
{
    "0x0001": 1,
    "0x0002": 2,
    "0x0003": 1
}
```

객체에서 0x0002에대해서 반복을 돌려서 2개가 나올 때 까지 확인하여 값을 구할 수 있다.

## Call 함수

view : 상태값을 그대로 전달하는것 , pure : 원시타입을 전달하는것

사용자가 이미지를 직접 넣어서 만들

account 의 4가지요소가 있는데 Tx을 처리하게 되면 Account의 상태가 변경된다.
(bitcoin의 UTXO)

Account는 EOA와 CA가 있지만 컨트랙트를 배포하고 NFT를 발행하기 때문에 CA를 이용하고,NFT에 대한 CA를 구한다.
