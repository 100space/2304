//front 뿐 아니라 back에서도 요청할 수 있다.(node 환경에서도 할 수 있다.)

const Web3 = require("web3")
const web3 = new Web3("http://127.0.0.1:8545")

web3.eth.getAccounts().then(console.log)
web3.eth.getBalance("0xBde411B5e0E5F0B5dBcdC60C03f3B433B58EFBAB").then(console.log)
// 새로고침때마다 보내지니까 주석처리해놓음..
// web3.eth
//     .sendTransaction({
//         from: "0x68ff7899d99D607C1e323a8a341ceEAb42395Ded",
//         to: "0xd521B59D3E38a35a0e38Df1c6ad658736eC29392",
//         value: web3.utils.toWei("5", "ether"),
//     })
//     .then(console.log)
//

web3.eth
    .sendTransaction({
        from: "0xBde411B5e0E5F0B5dBcdC60C03f3B433B58EFBAB",
        gas: "3000000", // 6721975
        data: "0x60806040525f8055348015610012575f80fd5b50610143806100205f395ff3fe608060405234801561000f575f80fd5b5060043610610034575f3560e01c806320965255146100385780635524107714610056575b5f80fd5b610040610072565b60405161004d919061009b565b60405180910390f35b610070600480360381019061006b91906100e2565b61007a565b005b5f8054905090565b805f8190555050565b5f819050919050565b61009581610083565b82525050565b5f6020820190506100ae5f83018461008c565b92915050565b5f80fd5b6100c181610083565b81146100cb575f80fd5b50565b5f813590506100dc816100b8565b92915050565b5f602082840312156100f7576100f66100b4565b5b5f610104848285016100ce565b9150509291505056fea26469706673582212203176be4f08df37711b466bc494a2b28ac687b3dd82d821c22e55cc915ecf983864736f6c63430008140033",
    })
    .then(console.log)
web3.eth.getBalance("0xBde411B5e0E5F0B5dBcdC60C03f3B433B58EFBAB").then(console.log)
